<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2022-09-23">
<meta name="description" content="A project inspired by Interpretable Machine Learning book">

<title>Shanti Agung - Interpreting Models of Wellbeing</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Shanti Agung</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html">Projects</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/shanti-agung"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/shanti-agung/"><i class="bi bi-linkedin" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Interpreting Models of Wellbeing</h1>
                  <div>
        <div class="description">
          A project inspired by Interpretable Machine Learning book
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">R</div>
                <div class="quarto-category">machine learning</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">September 23, 2022</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#about-the-interpretable-ml-book" id="toc-about-the-interpretable-ml-book" class="nav-link active" data-scroll-target="#about-the-interpretable-ml-book">About the Interpretable ML book</a></li>
  <li><a href="#applying-methods-for-interpretable-ml" id="toc-applying-methods-for-interpretable-ml" class="nav-link" data-scroll-target="#applying-methods-for-interpretable-ml">Applying methods for interpretable ML</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>Midst our excitement about machine learning models, interpreting and explaining them may not be straightforward. Nevertheless, interpreting machine learning helps us assess whether the models meet criteria other than performance-related measures <span class="citation" data-cites="doshivelez_kim_2017">(<a href="#ref-doshivelez_kim_2017" role="doc-biblioref">Doshi-Velez &amp; Kim, 2017</a>)</span>. These criteria include safety, nondiscrimination, and providing the proper explanation. Accordingly, interpretability is instrumental in building end users’ and decision makers’ trust in machine learning models <span class="citation" data-cites="lakkaraju_bach_leskovec_2016">(<a href="#ref-lakkaraju_bach_leskovec_2016" role="doc-biblioref">Lakkaraju et al., 2016</a>)</span>.</p>
<p>In <em>my paiR</em> program organized by RLadies Amsterdam, my learning partner and I chose interpretable machine learning as our topic. We decided to study together the first edition of the Interpretable Machine Learning book by Christoph Molnar, followed by an individual project applying concepts and tools explained in <span class="citation" data-cites="molnar_2021">Molnar (<a href="#ref-molnar_2021" role="doc-biblioref">2021</a>)</span>.</p>
<p><br>
</p>
<section id="about-the-interpretable-ml-book" class="level3">
<h3 class="anchored" data-anchor-id="about-the-interpretable-ml-book">About the Interpretable ML book</h3>
<p>The book focuses on making supervised learning interpretable. In a nutshell, Molnar suggested three ways of making machine learning interpretable. One is using machine learning models that, by design, reveal their internal mechanisms. These models are also called white models or interpretable models. The yellow branch in the mind map below shows interpretable models.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mindmap_make_machine_learning_interpretable.png" class="img-fluid figure-img" width="659"></p>
<p></p><figcaption class="figure-caption">Based on https://christophm.github.io/interpretable-ml-book/</figcaption><p></p>
</figure>
</div>
<p>Another approach is to use model-agnostic interpretable methods, shown by the orange branch of the mind map. If we have a black box, this orange branch approach is akin to a set of X-ray tools that help us look inside the black box.</p>
<p>The third approach is to select a few instances to explain the behavior of the machine-learning models. For that reason, this approach is known as the example-based approach, shown in the red branch. This red branch, like the orange branch, is model agnostic.</p>
<p>Three things to like about this book:</p>
<ol type="1">
<li><p>It helps us understand the nuance of interpretability. It turns out that interpretability is not a plain-vanilla concept. Early in the book, Molnar dedicated a chapter discussing the various point of view on interpretability.</p></li>
<li><p>It offers guidance on when to use a particular interpretability method. For that purpose, Molnar elaborated on the advantages and disadvantages of each interpretability method.</p></li>
<li><p>It includes implementation tips. For each interpretability method, Molnar informed readers what package to use, both in R and in python. He also provided concrete examples with source codes available on using <code>ilm</code>, an interpretability package in R that he developed.</p></li>
</ol>
<p><br>
</p>
</section>
<section id="applying-methods-for-interpretable-ml" class="level3">
<h3 class="anchored" data-anchor-id="applying-methods-for-interpretable-ml">Applying methods for interpretable ML</h3>
<p>The <a href="www.Authentic-Happiness.com">Authentic Happiness Project</a> collected the data via an online survey and made the dataset available on Kaggle. This dataset contains 15,977 survey responses. I used the dataset’s ‘flow’ experience and stress level variables to assess well-being.</p>
<p>In psychology, ‘flow’ is defined as a mental state when a person is totally immersed in an activity that s/he is doing <span class="citation" data-cites="csikszentmihalyi_1997">(<a href="#ref-csikszentmihalyi_1997" role="doc-biblioref">Csikszentmihalyi, 1997</a>)</span>. The person then experiences a feeling of energized focus, full involvement, and enjoyment in the process of this activity. Experiencing flow is one way to achieve well-being <span class="citation" data-cites="tse_nakamura_csikszentmihalyi_2021">(<a href="#ref-tse_nakamura_csikszentmihalyi_2021" role="doc-biblioref">Tse et al., 2021</a>)</span>. In contrast, experiencing stress may dampen well-being. A higher level of perceived stress is associated with lower well-being <span class="citation" data-cites="hepburn_carroll_mccuaig_2021">(<a href="#ref-hepburn_carroll_mccuaig_2021" role="doc-biblioref">Hepburn et al., 2021</a>)</span>.</p>
<p>I trained a regression model using the hours of flow a person experiences in a week as an outcome variable. Additionally, I trained a classification model to predict whether a person would be in the high-stress or low-stress category.</p>
<p>Insights from applying interpretability tools include:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/pdp.png" class="img-fluid figure-img" width="470"></p>
</figure>
</div>
<p>A Partial Dependence Plot (PDP) shows that the more weekly meditation hours, the lower the probability that a person would be in a high-stress category. However, when weekly meditation reaches 7.5 hours per week, additional hours of meditation do not lower the probability further.</p>
<p><br>
</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ale.png" class="img-fluid figure-img" width="470"></p>
</figure>
</div>
<p>An Accumulated Local Effect (ALE) plot shows that the number of lost vacation days in a year is associated with higher predicted being in the high-stress category.</p>
<p><br>
</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/lime.png" class="img-fluid figure-img" width="470"></p>
</figure>
</div>
<p>Local Surrogate (LIME) explanations for two instances in the dataset show that little time for passion and few remarkable achievements that he was proud of have a negative effect on the hours of flow experience in a week.</p>
<p><br>
</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/shapley.png" class="img-fluid figure-img" width="470"></p>
</figure>
</div>
<p>A figure shows Shapley values for a survey response, in this example, the 100th response. With a predicted 3.41 hours of flow experience, this response is 0.25 hours higher than the average prediction of 3.16 hours. No time for passion had the largest negative contribution. Social networks and the number of daily steps had a positive contribution.</p>
<p><br>
</p>
<p>I sincerely thank R-Ladies Amsterdam —especially Janine and Melissa, for organizing <em>my paiR</em> program; Ada —my learning partner, for the stimulating discussions; and Christoph Molnar for writing the book on interpretable machine learning and making it accessible. In the project listing, the photo for this post is courtesy of Conscious Design via Unsplash.</p>
<p><a href="https://github.com/mypair/lifestyle-wellbeing" title="Go to GitHub repo"><img src="https://img.shields.io/badge/Code-Repository-18bc9c?style=for-the-badge&amp;logo=github" alt="Code - Repository"></a></p>
</section>
<section id="references" class="level3">




</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-line-spacing="2" role="doc-bibliography">
<div id="ref-csikszentmihalyi_1997" class="csl-entry" role="doc-biblioentry">
Csikszentmihalyi, M. (1997). <em>Finding flow: The psychology of engagement with everyday life</em> (1st ed). BasicBooks.
</div>
<div id="ref-doshivelez_kim_2017" class="csl-entry" role="doc-biblioentry">
Doshi-Velez, F., &amp; Kim, B. (2017). Towards a rigorous science of interpretable machine learning. <em>arXiv Preprint arXiv:1702.08608</em>.
</div>
<div id="ref-hepburn_carroll_mccuaig_2021" class="csl-entry" role="doc-biblioentry">
Hepburn, S.-J., Carroll, A., &amp; McCuaig, L. (2021). The relationship between mindful attention awareness, perceived stress and subjective wellbeing. <em>International Journal of Environmental Research and Public Health</em>, <em>18</em>(23), 12290.
</div>
<div id="ref-lakkaraju_bach_leskovec_2016" class="csl-entry" role="doc-biblioentry">
Lakkaraju, H., Bach, S. H., &amp; Leskovec, J. (2016). Interpretable decision sets: A joint framework for description and prediction. <em>Proceedings of the 22nd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining</em>, 1675–1684.
</div>
<div id="ref-molnar_2021" class="csl-entry" role="doc-biblioentry">
Molnar, C. (2021). <em>Interpretable machine learning: A guide for making black box models explainable</em> (2nd ed.). <a href="https://christophm.github.io/interpretable-ml-book">https://christophm.github.io/interpretable-ml-book</a>
</div>
<div id="ref-tse_nakamura_csikszentmihalyi_2021" class="csl-entry" role="doc-biblioentry">
Tse, D. C., Nakamura, J., &amp; Csikszentmihalyi, M. (2021). Living well by “flowing’well: The indirect effect of autotelic personality on well-being through flow experience. <em>The Journal of Positive Psychology</em>, <em>16</em>(3), 310–321.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>